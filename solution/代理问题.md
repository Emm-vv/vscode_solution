用v2rayN时，加上这个直接让git用软件的代理
git config --global http.proxy http://127.0.0.1:10808
git config --global https.proxy http://127.0.0.1:10808






浏览器走了代理你的 Chrome/Edge/Firfox 通常会：使用「系统代理」(PAC、HTTP/HTTPS 代理)或使用浏览器插件（SwitchyOmega / Proxy Switcher）
因此浏览器访问 Google → 经代理 → 能打开

❌ 终端命令不走代理
ping、curl、wget、git 等终端程序不会自动识别系统代理
必须自己设置：

Windows PowerShell/CMD
# 这里代理要填自己电脑有代理软件接管的代理请求端口（本机代理端口，软件不同会不同），而不是代理服务器地址
# 如果填了代理服务器地址，也会正常连接，但是原理是因为修改了连接逻辑，终端尝试走代理，但是代理会被代理软件接管，从而刚好能用
# 但配置git的代理比较特殊，它流量类型为connect，是会被代理过滤的讨厌的类型，一定要填对，下面同理
setx http_proxy http://127.0.0.1:7890  
setx https_proxy http://127.0.0.1:7890


✔️ curl 能访问，但 git 不行的真正原因
🔹 PowerShell 的 curl（实际上是 Invoke-WebRequest）
👉 会自动继承 系统代理
👉 所以能访问 443 → 返回 200
🔹 Git 本身
❌ 不会继承系统代理
❌ 必须手动配置
❌ 不走代理就连不上 github.com:443
# 设置 Git 代理（推荐）
# 设置 HTTP/HTTPS 代理
git config --global http.proxy http://104.24.52.127:8443 # 错误示例
git config --global https.proxy http://104.24.52.127:8443
# 取消代理设置（如果需要
git config --global --unset http.proxy
git config --global --unset https.proxy
# 然后再次尝试推送
git push

Linux / WSL / macOS
export http_proxy=http://127.0.0.1:7890
export https_proxy=http://127.0.0.1:7890

注意：ping 是 ICMP，不经过代理，无论设没设代理，都 ping 不通。

🎯 关键点总结
行为	           是否走代理	                能否访问 Google
浏览器 HTTP/HTTPS	✔️ 可以（插件/系统代理）	👍 通常能访问
curl google.com	   ❓ 默认不走	              ❌ 需要设置环境变量
ping google.com	    ❌ 永远不走，不支持	       ❌ 必定失败



vscode本身也可以到设置配置代理，找到代理输入代理的ip和端口即可，如果只配置终端代理要输入命令来提交到云端

🚧 另：解决办法 ：用 SSH 代替 HTTPS（彻底避开网络验证）
# SSH 配置
1️⃣ 在 GitHub 添加 SSH Key
2️⃣ 修改远程仓库地址：
git remote set-url origin git@github.com:Emm-vv/vscode_solution.git
3️⃣ 测试：
git push
SSH 在很多网络环境下比 443 更好用。


填 本机代理端口

在你电脑上跑的 Clash / Clash Verge / V2rayN / NekoRay / CFW 的监听端口

常见默认：
工具	                         HTTP 代理端口
Clash for Windows	              7890
Clash Verge	                      7890
V2RayN	                       10809 / 10808
NekoRay	                          2080
Clash Meta GUI	                  7890
🔍 第一步：查本地代理端口
✔️ Windows 快速查法
PowerShell 输入：

netstat -ano | findstr LISTENING | findstr 127.0.0.1

你会看到类似：
TCP 127.0.0.1:7890 LISTENING
TCP 127.0.0.1:10809 LISTENING

这两个都是代理入口，本地 IP 必须是 127.0.0.1

🛠 第二步：设 Git 代理（用你查到的端口）
示例 1：Clash 系列（HTTP）
git config --global http.proxy http://127.0.0.1:7890
git config --global https.proxy http://127.0.0.1:7890

示例 2：V2rayN 无SOCKS5
git config --global http.proxy http://127.0.0.1:10808
git config --global https.proxy http://127.0.0.1:10808

🧪 第三步：验证 Git 是否走通代理
git config --global -l
curl https://github.com --proxy http://127.0.0.1:7890
git push


推得动就成功 🎉